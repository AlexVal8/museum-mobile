import 'package:flutter/services.dart';
import 'package:flutter/cupertino.dart';
import 'package:flutter/material.dart';

class Historie extends StatefulWidget {
  const Historie({super.key});

  @override
  State<Historie> createState() => _HistorieState();
}

class _HistorieState extends State<Historie>{
  List<AssetImage> pictures = List.generate(27, (index) => AssetImage("assets/historieBG/sh" + (index+1).toString() + ".webp"));
  int counter = 0;
  Color enableButton = const Color(0xFF156B55);
  Color boxBackground = const Color(0xFF666666);
  List<String> headears = ['Музей истории Екатеринбурга', 'Вход с улицы',
    'Спуск по лестнице', 'Вход', 'Касса', 'Билеты', 'Карта музея', 'Гардероб',
    'Библиотека Татищева', 'Турникет', 'Подъем на первый этаж', 'План залов',
    'Туалет', 'Панорама города', 'Бюст', 'Проверка билета', 'Экран с минералами',
    'Кинозал', 'Интерактивная книга', 'Подъем на второй этаж', 'Монеты',
    'Макет зданий', 'Выдвижные ячейки', 'Стеллажи', 'Временная эскпозиция',
    'Детский музейный центр', 'Кресла для отдыха'];
  List<String> texts = ['Сегодня я пойду в Музей истории Екатеринбурга. В нем я узнаю много нового об истории города. В музее я буду соблюдать правила поведения. Я буду вести себя тихо и осторожно, чтобы другим гостям музея тоже было комфортно. Я подойду к музею истории Екатеринбурга на улице Карла Либкнехта 26. С левой стороны здания я увижу большие черные двери.',
  'Я подойду к двери и открою её, потянув ручку на себя, затем войду в здание музея.',
  'Когда я зайду в музей, я увижу лестницу, которая ведет вниз. Я спущусь по ней вниз. Я буду вести себя осторожно на лестнице, буду спускаться небыстрым шагом.',
  'Когда я спущусь по лестнице вниз, я увижу две двери с надписью «ВХОД». Я войду в одну из дверей, потянув ручку на себя.',
  'Когда я зайду внутрь и окажусь в холле музея. Холл находится на 0 этаже. Я увижу кассу. Там меня встретит человек, у которого я куплю билеты в музей',
  'Я возьму билет. Если у меня возникнут вопросы, я задам их человеку на кассе.',
  'Я внимательно ознакомлюсь с планом музея, в нем написано, что есть в музее. Я сфотографирую план музея на свой телефон или камеру. Если у меня не будет своего телефона или камеры, я попрошу моего сопровождающего сфотографировать план музея, так я ничего не забуду и не потеряюсь.',
  'В музее есть гардероб. Он находится в холле музея. В гардеробе я могу оставить свою верхнюю одежду. Я также могу оставить в гардеробе свою сумку или рюкзак. В гардеробе мне дадут специальную бирку, которую я сохраню до конца моей экскурсии.',
  'Напротив гардероба расположена библиотека. На стене я увижу текст, посвященный Василию Никитичу Татищеву. В библиотеке я смогу посмотреть интересующие меня книги. После того, как я изучу книги, я поставлю их на место.',
  'Чтобы посмотреть основную выставку музея, нужно отсканировать билет с помощью специального устройства. Я подойду к турникету, который находится напротив кассы или напротив библиотеки. Считывающее устройство оранжевого цвета. Я поднесу билет с кодом к специальному окошку на оранжевом устройстве.',
  'Когда устройство отсканирует мой билет, я смогу пройти через турникет. Я поднимусь по лестнице на первый этаж музея.',
  'Когда я поднимусь на 1 этаж, я увижу цветной план залов музея. План первого этажа отмечен серой цифрой 1 внутри белого прямоугольника. На плане я смогу определить, где находится туалет. На плане он отмечен слева от места, где я нахожусь. Я также смогу сфотографировать план или попросить моего сопровождающего сфотографировать его.',
  'Туалет находится в левой части холла первого этажа. Перед входом в туалет висит табличка «Туалет».',
  'В холле первого этажа я увижу большой экран с панорамой города. Напротив панорамы стоит специальный экран, к которому нужно прикоснуться. Картинку можно двигать, для этого нужно провести по экрану.',
  'В холле я увижу бюст Георга Вильгельма де Генина, Я не буду трогать его руками, а буду внимательно смотреть.',
  'Когда я зайду в первый зал музея, у меня попросят показать входной билет. Я покажу билет, когда меня попросят.',
  'При входе в зал я увижу большой экран. На экране нарисованы минералы (камни). Я могу потрогать экран и узнать много нового о минералах Урала',
  'В зале музея есть кинозал. Наблюдающий зала может пригласить нас посмотреть фильм про историю Екатеринбурга. Вокруг сидений кинозала установлены специальные шторы. Перед началом фильма шторы начнут сдвигаться, чтобы экран было хорошо видно. Я буду готов, когда шторы закроются и мне будет спокойно.',
  'В зале музея есть много экспонатов, которые можно потрогать. Один из таких экспонатов – это интерактивная книга. Если книга закрыта, я осторожно открою её. Я буду аккуратно перелистывать страницы за правый нижний уголок. Я не буду подносить руки к экрану над книгой.',
  ' Когда я закончу обзор первого этажа, я смогу подняться на второй этаж музея. Я поднимусь по лестнице, которая находится за стеклянной дверью возле цветного указателя в холле первого этажа.',
  'На втором этаже очень интересно. Здесь нас ждут экспонаты, которые можно трогать руками. На втором этаже я увижу витрину со старинными монетами. Каждую монету можно рассмотреть поближе с помощью лупы. Перекладину с лупой можно двигать к себе и от себя, а саму лупу в лево и вправо.',
  'После изучения монет я посмотрю второй этаж музея дальше. Я пройду прямо и увижу макет с маленькими белыми домиками – это макет зданий, стоящих на Плотинке. Если я занесу ладонь над макетом здания, на экране будет написано про это здание.',
  'Вдоль стены я увижу ячейки с экспонатами. Некоторые ячейки нужно выдвинуть самостоятельно. Специальные ячейки выглядят как вертикальные ручки, которые нужно потянуть на себя.',
  'В зале музея очень много стеклянных стеллажей. Я буду внимательно изучать экспонаты. Если мне что-то интересно или непонятно, я спрошу об этом у сопровождающего.',
  'В конце зала я увижу вход в другую экспозицию. В этом зале находится временная экспозиция, она тоже очень интересная.',
  'Когда я закончу осмотр основной экспозиции на втором этаже, я перейду в детский музейный центр. Вход в детский музейный центр находится посередине зала, к нему можно пройти от стеллажа со старинными монетами.',
  'Около детского музейного центра расположены удобные кресла. В кресле я могу посидеть и отдохнуть.'
  ];


  Widget build(BuildContext context) {
    return Scaffold(

      body: Container(
        height: MediaQuery.of(context).size.height,
        width: MediaQuery.of(context).size.width,
        decoration: BoxDecoration(
          image: DecorationImage(
            image:  pictures[counter],
            fit: BoxFit.fitHeight
          )
        ),
        child: Column(
          mainAxisAlignment: MainAxisAlignment.end,
          crossAxisAlignment: CrossAxisAlignment.center,
          children: [
            Container(
              height: 320,
              width: 350,
              padding: EdgeInsets.symmetric(vertical: 25),
              decoration: BoxDecoration(
                color: boxBackground.withOpacity(0.5),
                borderRadius: BorderRadius.circular(25)
              ),
              child: Column(children: [

                Text(headears[counter],
                style: TextStyle(
                  fontFamily: 'Montserrat-Regular',
                  fontWeight: FontWeight.w700,
                  fontSize: 20,
                  color: Colors.white,
                  height: 24/20
                ),),

                SizedBox(height: 12,),

                Container(
                  alignment: Alignment.centerLeft,
                    width: 310,
                    child:
                Text(texts[counter],

                  style: TextStyle(
                    fontWeight: FontWeight.w600,
                  fontFamily: 'Montserrat-Regular',
                  fontSize: 16,
                  height: 19.5/16,
                  color: Colors.white
                ),))
              ],),
            ),
          Container(
              margin: EdgeInsets.symmetric(vertical: 15,horizontal: 10),
              child:
          TextButton(onPressed: (){
            setState(() {
              if (counter == 26){
                SystemChrome.setEnabledSystemUIMode(SystemUiMode.manual, overlays: [SystemUiOverlay.bottom, SystemUiOverlay.top]);
                Navigator.pop(context);
              }
              counter++;
            });},
              child: Text('Продолжить',
                style: TextStyle(
                  fontSize: 16,
                  color: Colors.white
                ),),
          style: TextButton.styleFrom(
            minimumSize: Size(350, 50),
              backgroundColor: enableButton,
            shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(15)),
          ),))
          ],
        ),
      ),
    );
  }
}